"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,a){var o,n,e,i,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return n=!(o=!0),{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){n=!0,e=t},f:function(){try{o||null==r.return||r.return()}finally{if(n)throw e}}};if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||a&&t&&"number"==typeof t.length)return r&&(t=r),i=0,{s:a=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,a){var o;if(t)return"string"==typeof t?_arrayLikeToArray(t,a):"Map"===(o="Object"===(o=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,a):void 0}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var o=0,n=new Array(a);o<a;o++)n[o]=t[o];return n}!function(d){var e,a=d("#adfy__woofc-coupon-container"),i=1==addonifyFloatingCartJSObject.addonifyFloatingCartNotifyShow,t=addonifyFloatingCartJSObject.addonifyFloatingCartNotifyDuration,r=1==addonifyFloatingCartJSObject.addonifyFloatingCartNotifyDismissible,c=1==addonifyFloatingCartJSObject.displayToastNotificationButton,s=addonifyFloatingCartJSObject.addonifyFloatingCartNotifyMessage,f=addonifyFloatingCartJSObject.toast_notification_display_position.split("-"),l=addonifyFloatingCartJSObject.open_cart_modal_immediately_after_add_to_cart,o=addonifyFloatingCartJSObject.open_cart_modal_after_click_on_view_cart,_=addonifyFloatingCartJSObject.states,u=d(".adfy__woofc-cart-summary ul li.sub-total"),p=d(".adfy__woofc-cart-summary ul li.discount"),y=d(".adfy__woofc-colophon"),m=d(".adfy__woofc-shipping-bar"),h=d(".adfy__woofc-cart-summary"),n={init:function(){this.preventDefaultBehaviour(),this.showFloatingCartHandler(),this.hideFloatingCartHandler(),this.quantityFormInputHandler(),this.handleFloatingCartCoupon(),this.notifyFloatingCartEventHandler(),this.handleCartItems(),this.shippingSectionHandler()},preventDefaultBehaviour:function(){d(document).on("click",".adfy__woofc-prevent-default",function(t){t.preventDefault()})},showFloatingCartHandler:function(){d(document).on("click",".adfy__show-woofc",function(){document.body.classList.add("adfy__woofc-visible")}),d(document).on("click",".added_to_cart.wc-forward",function(t){1==o&&(t.preventDefault(),document.body.classList.add("adfy__woofc-visible"))}),d(document.body).on("added_to_cart",function(t,a,o,n){var e,i;!0===l&&document.body.classList.add("adfy__woofc-visible"),d("#adfy__woofc-cart-errors").html("").addClass("hidden"),y.hasClass("adfy__woofc-hidden")&&y.removeClass("adfy__woofc-hidden"),h.hasClass("discount")&&(e=d(".adfy__woofc-cart-summary li.sub-total"),i=d(".adfy__woofc-cart-summary li.discount"),e.hasClass("adfy__woofc-hidden")&&e.removeClass("adfy__woofc-hidden"),i.hasClass("adfy__woofc-hidden")&&i.removeClass("adfy__woofc-hidden")),m.hasClass("adfy__woofc-hidden")&&m.removeClass("adfy__woofc-hidden")}),d(document.body).on("wc_cart_emptied",function(t){y.addClass("adfy__woofc-hidden"),m.addClass("adfy__woofc-hidden")})},hideFloatingCartHandler:function(){d(document).on("click",".adfy__hide-woofc",function(){document.body.classList.remove("adfy__woofc-visible")})},notifyFloatingCartEventHandler:function(){var o=c?addonifyFloatingCartJSObject.toastNotificationButton:"",n=new Notyf({duration:t,dismissible:r,ripple:!0,position:{x:f[1],y:f[0]}});d(document).on("added_to_cart",function(t,a){i&&(e=a.product.charAt(0).toUpperCase()+a.product.slice(1),n.success({className:"adfy__woofc-notfy-success",message:s.replace("{product_name}",e)+" "+o}).on("click",function(t){t.target,t.event;c&&d("body").addClass("adfy__woofc-visible")}))})},quantityFormInputHandler:function(){function a(t,a,o){var o=2<arguments.length&&void 0!==o?o:1,n="add"===a?d(t).next():"sub"===a?d(t).prev():d(t),e=d(t).attr("data-product_id"),i=d(t).attr("data-cart_item_key"),r=d(t).parents(".adfy__woofc-item");d("#adfy__woofc-spinner-container").addClass("visible").removeClass("hidden"),d.ajax({type:"POST",dataType:"json",url:addonifyFloatingCartJSObject.ajax_url,data:{action:addonifyFloatingCartJSObject.ajax_update_cart_item_action,product_id:e,cart_item_key:i,nonce:addonifyFloatingCartJSObject.nonce,type:a,quantity:o},success:function(t){var a;t&&!t.error&&((a=t.fragments)&&d.each(a,function(t,a){d(t).replaceWith(a)}),"OoS"===(a=t.nQuantity)?(alert("Out of stock range"),n.val(a)):"nil"!==a&&n.val(a),r.find(d(".adfy__woofc-item-price-multiplier-quantity")).html(a),r.unblock(),d(document.body).trigger("wc_update_cart"))},error:function(t){console.log("Error processing request")}}).always(function(){d("#adfy__woofc-spinner-container").addClass("hidden").removeClass("visible")})}d(document).on("click",".adfy__woofc-item .adfy__woofc-inc-quantity",function(t){t.preventDefault();t=d(this).prev();(parseInt(t.val())<parseInt(t.attr("max"))||""==t.attr("max"))&&a(this,"add")}),d(document).on("click",".adfy__woofc-item .adfy__woofc-dec-quantity",function(t){t.preventDefault();t=d(this).next();parseInt(t.val())<=parseInt(t.attr("min"))||a(this,"sub")}),d(document).on("change",".adfy__woofc-item .adfy__woofc-quantity-input-field",function(t){t.preventDefault(),a(this,"update",d(this).val())})},handleFloatingCartCoupon:function(){function n(t){t=0<arguments.length&&void 0!==t&&t;!1!==t&&d(".adfy__woofc-alert.success").html('<p class="adfy__woofc-alert-text">\n                            <svg fill="currentColor" viewBox="0 0 16 16">\n                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n                            </svg>\n                            '+t+"\n                        </p>"),d(".adfy__woofc-alert.success").fadeIn(),setTimeout(function(){d(".adfy__woofc-alert.success").fadeOut()},3e3)}function e(t){t=0<arguments.length&&void 0!==t&&t;!1!==t&&d(".adfy__woofc-alert.error").html('<p class="adfy__woofc-alert-text">\n                            <svg fill="currentColor" viewBox="0 0 16 16">\n                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n                            </svg>\n                            '+t+"\n                        </p>"),d(".adfy__woofc-alert.error").fadeIn(),setTimeout(function(){d(".adfy__woofc-alert.error").fadeOut()},3e3)}d(document).on("click","#adfy__woofc-coupon-trigger",function(t){t.preventDefault(),a.attr("data_display","visible")}),d(document).on("click","#adfy__woofc-hide-coupon-container",function(){a.attr("data_display","hidden")}),d(document).on("submit","#adfy__woofc-coupon-form",function(t){t.preventDefault();var o=d(this).find("input[name=adfy__woofc-coupon-input-field]"),t=o.val();d.ajax({url:addonifyFloatingCartJSObject.ajax_url,method:"post",data:{action:addonifyFloatingCartJSObject.ajax_apply_coupon,nonce:addonifyFloatingCartJSObject.nonce,form_data:t},success:function(t){var a=JSON.parse(t);!0===a.couponApplied?(o.val(""),d.each(a.html,function(t,a){d(t).replaceWith(a)}),n(a.status),d(document.body).trigger("applied_coupon",[t]),0<a.appliedCoupons&&u.hasClass("adfy__woofc-hidden")&&p.hasClass("adfy__woofc-hidden")&&(u.removeClass("adfy__woofc-hidden"),p.removeClass("adfy__woofc-hidden"))):e(a.status)},error:function(t){alert("Error processing request")}})}),d(document).on("click",".adfy__woofc-remove-applied-coupon-button",function(){var a=d(this).closest("li"),o=d(this).attr("data-coupon");d.ajax({url:addonifyFloatingCartJSObject.ajax_url,method:"post",data:{action:addonifyFloatingCartJSObject.ajax_remove_coupon,nonce:addonifyFloatingCartJSObject.nonce,form_data:o},success:function(t){t=JSON.parse(t);!0===t.couponRemoved?(d.each(t.html,function(t,a){d(t).replaceWith(a)}),d(document.body).trigger("removed_coupon",[o]),n(t.status),0!==t.appliedCoupons||u.hasClass("adfy__woofc-hidden")||p.hasClass("adfy__woofc-hidden")||(u.addClass("adfy__woofc-hidden"),p.addClass("adfy__woofc-hidden"))):e(t.status),a.remove()},error:function(t){alert("Error processing request")}})})},handleCartItems:function(){d(document).on("click",".adfy__woofc-item .thumb .product-remove",function(t){t.preventDefault();var o=d(this).attr("data-product_id"),t=d(this).attr("data-cart_item_key"),n=(d(this).parents(".adfy__woofc-item"),d(this));d("#adfy__woofc-spinner-container").addClass("visible").removeClass("hidden"),d.ajax({type:"POST",dataType:"json",url:addonifyFloatingCartJSObject.ajax_url,data:{action:addonifyFloatingCartJSObject.ajax_remove_from_cart_action,product_id:o,cart_item_key:t,nonce:addonifyFloatingCartJSObject.nonce},success:function(t){var a;t&&!1!==t.success?(d(".post-"+o).find("a.wc-forward").remove(),d(".post-"+o).find("a.add_to_cart_button").removeClass("added"),(a=t.fragments)&&d.each(a,function(t,a){d(t).replaceWith(a)}),d("#adfy__woofc-cart-errors").html(t.undo_product_link).removeClass("hidden"),0===t.cart_items_count&&(d(document.body).trigger("wc_cart_emptied"),d(".adfy__woofc-content-entry").html(t.empty_cart_message)),d(document.body).trigger("removed_from_cart",[t.fragments,t.cart_hash,n]),d(document.body).trigger("wc_update_cart")):d("#adfy__woofc-cart-errors").html(t.message).removeClass("hidden")},error:function(t){console.log("Error processing request")}}).always(function(){d("#adfy__woofc-spinner-container").addClass("hidden").removeClass("visible")})}),d(document).on("click","#adfy__woofc_restore_item",function(t){t.preventDefault();t=d(this).attr("data-item_key");d("#adfy__woofc-spinner-container").addClass("visible").removeClass("hidden"),d.ajax({type:"POST",dataType:"json",url:addonifyFloatingCartJSObject.ajax_url,data:{action:addonifyFloatingCartJSObject.ajax_restore_in_cart_action,cart_item_key:t,nonce:addonifyFloatingCartJSObject.nonce},success:function(t){t&&(t.fragments&&d.each(t.fragments,function(t,a){d(t).replaceWith(a)}),y.hasClass("adfy__woofc-hidden")&&y.removeClass("adfy__woofc-hidden"),m.hasClass("adfy__woofc-hidden")&&m.removeClass("adfy__woofc-hidden"),d("#adfy__woofc-cart-errors").html("").addClass("hidden"),t.error&&console.log(t.messsage))}}).always(function(){d("#adfy__woofc-spinner-container").addClass("hidden").removeClass("visible")})})},shippingSectionHandler:function(){d(document).on("click","#adfy__woofc-shipping-trigger",function(t){t.preventDefault(),d("#adfy__woofc-shipping-container").attr("data_display","visible")}),d(document).on("click","#adfy__woofc-hide-shipping-container",function(){d("#adfy__woofc-shipping-container").attr("data_display","hidden")}),d(document).on("click","#adfy__woofc-shipping-form .adfy__woofc-shipping-address-form-toggle-button",function(t){t.preventDefault(),"none"===d(".adfy__woofc-shipping-form-elements").css("display")?d(".adfy__woofc-shipping-form-elements").show():d(".adfy__woofc-shipping-form-elements").hide()}),d(document).on("submit","#adfy__woofc-shipping-form",function(t){t.preventDefault();var t=d("#addonify_floating_cart_shipping_country").val(),a=d("#addonify_floating_cart_shipping_state").val(),o=d("#addonify_floating_cart_shipping_city").val(),n=d("#addonify_floating_cart_shipping_postcode").val(),e=d("#addonify-floating-cart-shipping-nonce").val();d.ajax({url:addonifyFloatingCartJSObject.ajax_url,method:"POST",data:{action:addonifyFloatingCartJSObject.updateShippingInfo,shipping_country:t,shipping_state:a,shipping_city:o,shipping_postcode:n,nonce:e},success:function(t){t&&t.fragments&&d.each(t.fragments,function(t,a){""!==a?d(t).replaceWith(a):d(t).html(a)})},failure:function(){console.log("Request failed! Are we offline?")}})}),d(document).on("change","#addonify_floating_cart_shipping_country",function(){var t=d(this).val(),a=d("#addonify_floating_cart_shipping_state"),o=_[t];if(a.siblings("span.select2").remove(),"object"===_typeof(o)&&0<Object.keys(o).length){var n,e,i="";for(n in o)i+='<option value="'+n+'">'+o[n]+"</option>";"input"===a.prop("tagName").toLowerCase()&&(t=a.parent(),a.remove(),(e=d(document.createElement("select"))).addClass("state_select").prop("id","addonify_floating_cart_shipping_state").prop("name","addonify_floating_cart_shipping_state"),e.prop("data-placeholder","State / County"),t.append(e)),d("#addonify_floating_cart_shipping_state").html(i)}else o instanceof Array&&0===o.length?(t=a.parent(),a.remove(),(e=d(document.createElement("input"))).addClass("input_text").prop("id","addonify_floating_cart_shipping_state").prop("name","addonify_floating_cart_shipping_state"),e.prop("type","hidden"),t.append(e)):(t=a.parent(),a.remove(),(e=d(document.createElement("input"))).addClass("input_text").prop("id","addonify_floating_cart_shipping_state").prop("name","addonify_floating_cart_shipping_state"),e.prop("placeholder","State / County"),t.append(e))}),d(document).on("change",".shipping_method",function(){var t={};d("select.shipping_method, :input[name^=shipping_method][type=radio]:checked, :input[name^=shipping_method][type=hidden]").each(function(){t[d(this).data("index")]=d(this).val()}),d("#adfy__woofc-spinner-container").addClass("visible").removeClass("hidden"),d.ajax({url:addonifyFloatingCartJSObject.ajax_url,method:"POST",data:{action:addonifyFloatingCartJSObject.updateShippingMethod,nonce:addonifyFloatingCartJSObject.nonce,shipping_method:t},success:function(t){t&&!t.error&&(t=t.fragments)&&d.each(t,function(t,a){""!==a?d(t).replaceWith(a):d(t).html(a)})}}).always(function(){d("#adfy__woofc-spinner-container").addClass("hidden").removeClass("visible")})})}};d(document).ready(function(){n.init(),d(".adfy__woofc-alert").hide()})}(jQuery);var init={scrollbar:function(){var t=document.getElementById("adfy__woofc-scrollbar");null!=t&&new SimpleBar(t,{autoHide:!1,clickOnTrack:!0})},observeCart:function(){var t=document.getElementById("adfy__floating-cart");new MutationObserver(function(t){var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;)"childList"===a.value.type&&init.scrollbar()}catch(t){o.e(t)}finally{o.f()}}).observe(t,{attributes:!1,childList:!0,subtree:!0})}};document.addEventListener("DOMContentLoaded",init.observeCart());